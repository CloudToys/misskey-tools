# CONTRIBUTING

Misskey Tools へのコントリビューションにご関心いただき、誠にありがとうございます。

このドキュメントでは、本プロジェクトの開発方針をまとめています。IssueやPull Requestの作成前に、必ずご一読ください。

なお、開発の進行に応じて、ドキュメントの内容は大きく変わることがあります。

## データベース スキーマの編集

* TypeScriptのコーディング規約に一致するように、命名規則を定める
  * テーブル名は PascalCase
  * フィールド名は camelCase
  * データベース上は `@map` 等を用いて snake_case で保存する
* `///` （/3つ）で各要素ごとにコメントをつけること
  * `//` （/2つ）だと整形時に削除されてしまうため注意
* schema.prisma を編集したら、次のコマンドを実行してSQLファイルを生成する
  * `pnpm dlx prisma migrate dev --name 変更名`
  * 変更名は snake_case

## tRPCでのデータ返却時はDTOを渡すこと

意図しないデータの漏洩を防ぐため、フロントエンドへデータを渡す場合は、必ずDBの実データではなく、DTOへの変換を通してください。

また、実データを返すと、tRPCの型定義にPrismaの型が含まれてしまい、フロントエンド側からTypeScriptのエラー TS2742 が発生します。
